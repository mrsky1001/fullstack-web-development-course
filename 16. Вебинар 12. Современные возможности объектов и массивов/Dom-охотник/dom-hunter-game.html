<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8"/>
    <title>DOM-Охотник</title>
    <style>
        body {
            background: #222;
            color: #fff;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #ui {
            position: fixed;
            top: 10px;
            left: 10px;
            font-size: 20px;
            z-index: 10;
        }

        #startBtn {
            padding: 10px 20px;
            font-size: 18px;
            margin-top: 10px;
            cursor: pointer;
        }

        #game {
            width: 100vw;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        .monster {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            position: absolute;

            cursor: pointer;
            transition: transform 0.1s;
        }

        .monster:hover {
            transform: scale(1.2);
        }

        .red {
            background: red;
        }

        .normal {
            background: #4caf50;
        }
    </style>
</head>
<body>

<div id="ui">
    <div>Очки: <span id="score">0</span></div>
    <div>Уровень: <span id="level">1</span></div>
    <button id="startBtn">Старт</button>
</div>

<div id="game"></div>
<script>
    const game = document.getElementById("game")
    const scoreElem = document.getElementById("score")
    const levelElem = document.getElementById("level")
    const startBtn = document.getElementById("startBtn")

    let score = 0
    let level = 10
    let spawnInterval = 1200
    let monsterLife = 1500
    let gameLoop

    function startGame() {
        resetGame()

        gameLoop = setInterval(() => {
            createMonster()
        }, spawnInterval)
    }

    function resetGame() {
        score = 0
        level = 10
        spawnInterval = 1200
        monsterLife = 1500

        scoreElem.textContent = score
        levelElem.textContent = level

        // Удаляем всех монстров
        game.innerHTML = ""
    }

    function createMonster() {
        const monster = document.createElement("div")
        monster.classList.add("monster")

        // 10% шанс на красного монстра
        const isRed = Math.random() < 0.1
        monster.classList.add(isRed ? "red" : "normal")

        // Случайная позиция
        monster.style.left = Math.random() * 90 + "vw"
        monster.style.top = Math.random() * 90 + "vh"

        // Размер уменьшается с уровнями
        const size = 50 - level * 3
        monster.style.width = size + "px"
        monster.style.height = size + "px"

        // Добавляем на сцену
        game.appendChild(monster)

        monster.addEventListener("click", () => {
            if (isRed) {
                score += 3
            } else {
                score += 1
            }

            scoreElem.textContent = score;
            monster.remove();

            checkLevelUp();
        })
    }

    function checkLevelUp() {
        if (score !== 0 && score % 10 === 0) {
            level++;
            levelElem.textContent = level;

            // Усложняем игру
            spawnInterval = Math.max(300, spawnInterval - 100);
            monsterLife = Math.max(400, monsterLife - 80);

            clearInterval(gameLoop);

            gameLoop = setInterval(() => {
                createMonster();
            }, spawnInterval);
        }
    }

    startBtn.addEventListener("click", () => {
        clearInterval(gameLoop)
        startGame()
    })

</script>

</body>
</html>
