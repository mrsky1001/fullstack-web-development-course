/********************************************
 * УРОК: Основы объектов в JavaScript
 ********************************************

Что такое объект?

 Объект (Object) — это сложный тип данных, который позволяет хранить
 множество значений под одним именем в виде пар «ключ — значение».

  Терминология:
 - Ключ (key) — имя свойства, всегда строка или символ.
 - Значение (value) — данные, которые хранятся под этим ключом.
 - Свойство (property) — комбинация «ключ: значение».
 - Метод (method) — функция, записанная как свойство объекта.

 Пример из реальной жизни:
 Объект можно представить как карточку студента:
 {
 name: "Иван",
 age: 19,
 group: "ПИ-101"
 }

 Имя, возраст и группа — это свойства объекта "студент".

 ********************************************/


/*---------------------------------------------------
  1. Создание объекта
---------------------------------------------------*/

//  Способ 1: Литерал объекта {}
const person = {
    name: "Иван",
    age: 19,
    haveCar: true,
}

console.log(person.name)
console.log(person);

//  Способ 2. Добавляем только html + css: Через конструктор new Object()
const car = new Object();
car.brand = "Toyota";
car.model = "Camry";
car.year = 2022;

console.log(car);

/*
 Литерал объекта — самый распространённый способ создания.
Конструктор Object() используется реже, но тоже допустим.
*/


/*---------------------------------------------------
  2. Добавляем только html + css. Доступ к свойствам объекта
---------------------------------------------------*/

// Через точку (dot notation)
console.log(person.name); // "Иван"

// Через квадратные скобки (bracket notation)
console.log(person["age"]); // 25

// Можно использовать переменные как имя свойства:
const key = "job";
console.log(person[key]); // "Разработчик"

/*
 Разница между способами:
- Точка используется, если имя свойства известно заранее.
- Скобки — если имя свойства хранится в переменной или содержит пробелы.
*/


/*---------------------------------------------------
  3. Добавление, изменение и удаление свойств
---------------------------------------------------*/

// Добавление
person.city = "Москва";
console.log(person);

// Изменение
person.job = "Senior-разработчик";
console.log(person);

// Удаление
delete person.age;
console.log(person);

/*
 JavaScript позволяет динамически изменять структуру объекта —
добавлять и удалять свойства прямо во время выполнения программы.
*/


/*---------------------------------------------------
  4. Вложенные объекты (Nested objects)
---------------------------------------------------*/

const user = {
    name: "Алина",
    contact: {
        email: "alina@mail.com",
        phone: "+7 900 123 45 67"
    },
    skills: ["HTML", "CSS", "JavaScript"]
};

console.log(user.contact.email); // доступ к вложенному свойству
console.log(user.skills[2]); // доступ к элементу массива внутри объекта

/*
 Вложенные объекты позволяют описывать сложные структуры данных.
Это основа для JSON — формата обмена данными между сервером и клиентом.
*/


/*---------------------------------------------------
  5. Методы объекта (функции внутри объекта)
---------------------------------------------------*/

const calculator = {
    a: 10,
    b: 5,
    // Полная запись метода
    sum: function() {
        return this.a + this.b;
    },
    // Сокращённая запись (ES6)
    multiply() {
        return this.a * this.b;
    }
};

console.log("Сумма:", calculator.sum());
console.log("Произведение:", calculator.multiply());

/*
 Терминология:
Метод — это свойство объекта, значением которого является функция.

this — специальное ключевое слово, которое внутри метода
указывает на сам объект, которому этот метод принадлежит.
*/


/*---------------------------------------------------
  6. Перебор свойств объекта
---------------------------------------------------*/

const product = {
    name: "Ноутбук",
    price: 1200,
    brand: "Dell"
};

// Перебор всех свойств через цикл for...in
for (let key in product) {
    console.log(`${key}: ${product[key]}`);
}

// Современные методы для работы с объектами:
console.log(Object.keys(product));   // Массив ключей
console.log(Object.values(product)); // Массив значений
console.log(Object.entries(product)); // Массив пар [ключ, значение]

/*
 Object.keys() → возвращает список имён свойств (ключей)
 Object.values() → возвращает список значений
 Object.entries() → возвращает массив массивов [[ключ, значение]]
*/


/*---------------------------------------------------
  7. Копирование и клонирование объектов
---------------------------------------------------*/

const original = { name: "Alex", age: 30 };

// Поверхностное копирование:
const copy = Object.assign({}, original);
copy.age = 31;

console.log("Оригинал:", original);
console.log("Копия:", copy);

// Ещё способ — через spread оператор:
const clone = { ...original };
clone.name = "Masha";
console.log("Клон:", clone);

/*
 Object.assign() и оператор spread (...) создают поверхностную копию.
Если объект содержит вложенные объекты, они копируются по ссылке.
Для глубокой копии используют JSON.parse(JSON.stringify(obj)).
*/


/*---------------------------------------------------
  8. Проверка наличия свойства
---------------------------------------------------*/

const userData = { login: "user123" };

console.log("login" in userData); // true
console.log(userData.hasOwnProperty("password")); // false

/*
 Оператор in проверяет наличие свойства в объекте (включая унаследованные).
Метод hasOwnProperty() проверяет только собственные свойства объекта.
*/


/*---------------------------------------------------
  9. this и контекст выполнения
---------------------------------------------------*/

const player = {
    name: "Max",
    score: 0,
    increase() {
        this.score += 10;
        console.log(`${this.name} получил очки! Текущий счёт: ${this.score}`);
    }
};

player.increase();

/*
 Контекст (context) — это объект, к которому привязано выполнение функции.
В методах объектов this указывает на сам объект.
*/


/*---------------------------------------------------
  10. Объекты как основа языка
---------------------------------------------------

Почти всё в JavaScript основано на объектах:
- Массивы (Array) — это объекты со специальными методами.
- Функции (Function) — это тоже объекты.
- Даты (Date), ошибки (Error), регулярные выражения (RegExp) — объекты.
- Даже встроенные типы вроде Number и String имеют объектные обёртки.

---------------------------------------------------*/

const now = new Date();
console.log("Текущая дата и время:", now);


/*---------------------------------------------------
  11. Объекты и JSON
---------------------------------------------------

JSON (JavaScript Object Notation) — это текстовый формат,
основанный на синтаксисе объектов JS. Используется для обмена
данными между клиентом и сервером.

---------------------------------------------------*/

const student = {
    name: "Олег",
    group: "ПИ-101",
    active: true
};

// Преобразуем объект в строку JSON
const json = JSON.stringify(student);
console.log("JSON строка:", json);

// И обратно — из строки в объект
const parsed = JSON.parse(json);
console.log("Восстановленный объект:", parsed);


/*---------------------------------------------------
  12. Заключение
---------------------------------------------------

 Ключевые тезисы:
- Объект — это структура данных "ключ: значение".
- Ключи — строки или символы; значения — любые типы данных.
- Методы — функции внутри объектов.
- this — ссылка на текущий объект.
- JSON — текстовое представление объекта.

 Понимание объектов — база для:
  - работы с API (fetch, AJAX)
  - манипуляций с DOM (document, window)
  - построения классов и прототипов
  - создания собственных структур данных
---------------------------------------------------*/
