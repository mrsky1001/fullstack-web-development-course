/**
 * ====================================================================
 * ROUTER: Product (Маршрутизатор товаров)
 * ====================================================================
 * 
 * Router (Маршрутизатор) — это мини-приложение Express, которое
 * объединяет группу связанных маршрутов.
 * 
 * Преимущества использования Router:
 * 1. Группировка маршрутов по логике (товары, пользователи, заказы)
 * 2. Возможность применять middleware к группе маршрутов
 * 3. Лучшая организация и читаемость кода
 * 
 * Базовый URL: /product (устанавливается в app.js через app.use)
 * 
 * ====================================================================
 */

const express = require('express');

// Создаём экземпляр Router
const productRouter = express.Router();

// Импортируем контроллер
// Контроллер содержит функции-обработчики запросов
const productController = require('../controllers/product.controller');

// ====================================================================
// ОПРЕДЕЛЕНИЕ МАРШРУТОВ
// ====================================================================
// 
// Формат: router.МЕТОД(путь, обработчик)
// 
// Обратите внимание: мы передаём только ССЫЛКУ на функцию,
// без вызова (без скобок). Express вызовет её сам при запросе.
// 
// Правильно: productController.getAllProducts
// Неправильно: productController.getAllProducts() 
// ====================================================================

// GET /product/all — Получить список всех товаров
// Полный URL: /product/all (prefix '/product' добавляется в app.js)
productRouter.get('/all', productController.getAllProducts);

// GET /product/:id — Получить один товар по его ID
// ":id" — это параметр маршрута, его значение доступно в req.params.id
// Пример: GET /product/5 → req.params.id === "5"
productRouter.get('/:id', productController.getProduct);

// Экспортируем Router для использования в app.js
module.exports = productRouter;
