/**
 * ====================================================================
 * –£–†–û–ö 2: –ù–ê–°–¢–†–û–ô–ö–ê EXPRESS.JS - –ó–ê–ü–£–°–ö –°–ï–†–í–ï–†–ê (server.js)
 * ====================================================================
 * 
 * –≠—Ç–æ—Ç —Ñ–∞–π–ª –æ—Ç–≤–µ—á–∞–µ—Ç –¢–û–õ–¨–ö–û –∑–∞ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞.
 * –í—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Express –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ app.js (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏).
 * 
 * –ü–æ—á–µ–º—É —Ç–∞–∫ –ª—É—á—à–µ?
 * 1. –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å app –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞)
 * 2. –ß—ë—Ç–∫–æ –ø–æ–Ω—è—Ç–Ω–æ, –≥–¥–µ —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
 * 3. –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ app –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ä—Ç–∞—Ö
 * 
 * ====================================================================
 */

// –®–ê–ì 1: –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
// --------------------------------------------------------------------
// './' –æ–∑–Ω–∞—á–∞–µ—Ç "–∏–∑ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏"
// –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ .js –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å

const app = require('./app');

// –®–ê–ì 2: –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ—Ä—Ç
// --------------------------------------------------------------------
// process.env.PORT ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–æ–π)
// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ–º 3000

const PORT = process.env.PORT || 3000;

// –®–ê–ì 3: –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
// --------------------------------------------------------------------
// app.listen() ‚Äî –º–µ—Ç–æ–¥ Express, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç HTTP —Å–µ—Ä–≤–µ—Ä
// –í–Ω—É—Ç—Ä–∏ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ http.createServer(), —á—Ç–æ –∏ –≤ –£—Ä–æ–∫–µ 1

app.listen(PORT, () => {
    console.log('');
    console.log('====================================================');
    console.log('  üéì –£–†–û–ö 2: EXPRESS.JS –ü–†–ò–õ–û–ñ–ï–ù–ò–ï');
    console.log('====================================================');
    console.log(`  ‚úÖ –°–µ—Ä–≤–µ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!`);
    console.log(`  üìç –ê–¥—Ä–µ—Å: http://localhost:${PORT}`);
    console.log('');
    console.log('  –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:');
    console.log(`    ‚Ä¢ GET  /              - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞`);
    console.log(`    ‚Ä¢ GET  /about         - –û –ø—Ä–æ–µ–∫—Ç–µ`);
    console.log(`    ‚Ä¢ GET  /api/status    - –°—Ç–∞—Ç—É—Å API`);
    console.log(`    ‚Ä¢ GET  /api/products  - –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤`);
    console.log('');
    console.log('  üí° –°–æ–≤–µ—Ç: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ npm run dev –¥–ª—è auto-reload');
    console.log('  –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏: Ctrl + C');
    console.log('====================================================');
    console.log('');
});
