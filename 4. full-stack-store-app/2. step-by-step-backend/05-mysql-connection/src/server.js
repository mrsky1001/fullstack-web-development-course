/**
 * ====================================================================
 * –£–†–û–ö 5: –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö MySQL - –¢–û–ß–ö–ê –í–•–û–î–ê (server.js)
 * ====================================================================
 * 
 * –í–ê–ñ–ù–û: –ó–∞–≥—Ä—É–∑–∫–∞ dotenv –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –ü–ï–†–í–û–ô!
 * –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥—Ä—É–≥–∏–º –º–æ–¥—É–ª—è–º (db.service.js) –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å process.env
 * 
 * ====================================================================
 */

// –®–ê–ì 0: –ó–ê–ì–†–£–ñ–ê–ï–ú –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø –ò–ó .env –§–ê–ô–õ–ê
// --------------------------------------------------------------------
// –≠—Ç–æ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ü–ï–†–í–û–ô —Å—Ç—Ä–æ–∫–æ–π (–¥–æ –≤—Å–µ—Ö require)!
// require('dotenv').config() —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª .env –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
// –≤ –æ–±—ä–µ–∫—Ç process.env

require('dotenv').config();

// –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å app (–∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã)
const app = require('./app');

// –ü–æ—Ä—Ç –±–µ—Ä—ë–º –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3000)
const PORT = process.env.PORT || 3000;

app.listen(PORT, () => {
    console.log('');
    console.log('====================================================');
    console.log('  üéì –£–†–û–ö 5: –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ö MYSQL');
    console.log('====================================================');
    console.log(`  ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: http://localhost:${PORT}`);
    console.log('');
    console.log('  üì¶ –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:');
    console.log('     dotenv  ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è');
    console.log('     mysql2  ‚Äî –¥—Ä–∞–π–≤–µ—Ä –¥–ª—è MySQL');
    console.log('');
    console.log('  ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:');
    console.log(`     DB_HOST: ${process.env.DB_HOST || '–Ω–µ –∑–∞–¥–∞–Ω'}`);
    console.log(`     DB_NAME: ${process.env.DB_NAME || '–Ω–µ –∑–∞–¥–∞–Ω'}`);
    console.log(`     NODE_ENV: ${process.env.NODE_ENV || 'development'}`);
    console.log('');
    console.log('  üîó API Endpoints:');
    console.log(`     GET  /product/all   ‚Äî –¢–æ–≤–∞—Ä—ã –∏–∑ –ë–î`);
    console.log(`     GET  /product/:id   ‚Äî –¢–æ–≤–∞—Ä –ø–æ ID`);
    console.log('');
    console.log('  üí° –ï—Å–ª–∏ –ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è mock-–¥–∞–Ω–Ω—ã–µ');
    console.log('  –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏: Ctrl + C');
    console.log('====================================================');
    console.log('');
});
