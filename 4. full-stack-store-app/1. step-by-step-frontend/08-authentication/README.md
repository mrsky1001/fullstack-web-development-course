# –£—Ä–æ–∫ 08: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–í—Ö–æ–¥ –∏ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)

## üéØ –¶–µ–ª–∏ —É—Ä–æ–∫–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞ –≤—ã –±—É–¥–µ—Ç–µ:
- –ü–æ–Ω–∏–º–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ñ–æ—Ä–º—ã —Å JavaScript
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –†–∞–±–æ—Ç–∞—Ç—å —Å —Å–µ—Å—Å–∏—è–º–∏

## üìù –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —ç—Ç–æ–º —É—Ä–æ–∫–µ

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

```
08-authentication/
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js      # –ù–û–í–û–ï: –ú–æ–¥—É–ª—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ login.js     # –ù–û–í–û–ï: –õ–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ register.js  # –ù–û–í–û–ï: –õ–æ–≥–∏–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ README.md
```

### –ú–æ–¥—É–ª—å Auth

```javascript
const Auth = {
    currentUser: null,
    isAuthenticated: false,
    
    async checkAuth() {
        const response = await API.request(API.endpoints.auth.check);
        if (response.status === 'success' && response.isAuth) {
            this.currentUser = response.user;
            this.isAuthenticated = true;
        }
    },
    
    async login(email, password) { /* ... */ },
    async register(email, password, name) { /* ... */ },
    async logout() { /* ... */ },
    
    updateUI() {
        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏" / "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
    }
};
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã

```javascript
form.addEventListener('submit', async (e) => {
    e.preventDefault();  // –û—Ç–º–µ–Ω—è–µ–º –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É
    
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è
    if (!email || !password) {
        showError('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
        return;
    }
    
    // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    const result = await Auth.login(email, password);
    
    if (result.success) {
        window.location.href = '/';  // –†–µ–¥–∏—Ä–µ–∫—Ç
    } else {
        showError(result.error);
    }
});
```

## üí° –ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ email
if (!email.includes('@')) {
    showError('email-error', '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π Email');
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
if (password.length < 6) {
    showError('password-error', '–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤');
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
if (password !== confirmPassword) {
    showError('confirm-error', '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç');
}
```

### e.preventDefault()

–û—Ç–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ (–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã).

### –°–µ—Å—Å–∏–∏ –∏ Cookies

- –°–µ—Ä–≤–µ—Ä —Å–æ–∑–¥–∞–µ—Ç —Å–µ—Å—Å–∏—é –ø—Ä–∏ –≤—Ö–æ–¥–µ
- –ë—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç cookie —Å ID —Å–µ—Å—Å–∏–∏
- `credentials: 'include'` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–µ—Å—Å–∏–π

## üîç –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ
3. –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–π–¥–∏—Ç–µ
4. –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—è–≤–∏—Ç—Å—è –≤ —à–∞–ø–∫–µ
5. –ó–∞–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É ‚Äî —Å–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [MDN: HTML forms](https://developer.mozilla.org/ru/docs/Learn/Forms)
- [MDN: FormData](https://developer.mozilla.org/ru/docs/Web/API/FormData)
